const url = "http://18.205.239.27:5000/analysis";

const data = [
  {
    prop_id: 2,
    num: 1,
    atr: 0.000973631,
    preferred_tax_liability: 1200,
    prop_val: 123250000.0,
    group_type: 1,
    value_bin: 3,
    v1: 16.34124,
    v2: 1.7950859,
    v3: 0.2818527,
    onlyuse: "Commercial",
    onlyocc: "Self-occupied",
    prop_val_str: "12.32 crore",
  },
  {
    prop_id: 2,
    num: 10,
    atr: 0.067708333,
    preferred_tax_liability: 6500,
    prop_val: 9600000.0,
    group_type: 0,
    value_bin: 1,
    v1: 15.13593,
    v2: 0.0,
    v3: 0.0,
    onlyuse: "Residential",
    onlyocc: "Rented",
    prop_val_str: "96.00 lac",
  },
  {
    prop_id: 2,
    num: 11,
    atr: 0.0625,
    preferred_tax_liability: 7500,
    prop_val: 12000000.0,
    group_type: 1,
    value_bin: 1,
    v1: 12.1769,
    v2: 0.0,
    v3: 0.0,
    onlyuse: "Commercial",
    onlyocc: "Self-occupied",
    prop_val_str: "1.20 crore",
  },
  {
    prop_id: 2,
    num: 12,
    atr: 0.195652174,
    preferred_tax_liability: 9000,
    prop_val: 4600000.0,
    group_type: 1,
    value_bin: 2,
    v1: 16.34124,
    v2: 1.7404652,
    v3: 0.0,
    onlyuse: "Commercial",
    onlyocc: "Self-occupied",
    prop_val_str: "46.00 lac",
  },
  {
    prop_id: 2,
    num: 13,
    atr: 0.003365385,
    preferred_tax_liability: 3500,
    prop_val: 104000000.0,
    group_type: 1,
    value_bin: 2,
    v1: 16.34124,
    v2: 1.4350834,
    v3: 0.0,
    onlyuse: "Commercial",
    onlyocc: "Self-occupied",
    prop_val_str: "10.40 crore",
  },
  {
    prop_id: 2,
    num: 14,
    atr: 0.006393443,
    preferred_tax_liability: 7800,
    prop_val: 122000000.0,
    group_type: 1,
    value_bin: 1,
    v1: 15.03042,
    v2: 0.0,
    v3: 0.0,
    onlyuse: "Commercial",
    onlyocc: "Self-occupied",
    prop_val_str: "12.20 crore",
  },
  {
    prop_id: 2,
    num: 15,
    atr: 0.080645161,
    preferred_tax_liability: 2500,
    prop_val: 3100000.0,
    group_type: 1,
    value_bin: 3,
    v1: 16.34124,
    v2: 1.7950859,
    v3: 2.0168953,
    onlyuse: "Commercial",
    onlyocc: "Self-occupied",
    prop_val_str: "31.00 lac",
  },
  {
    prop_id: 2,
    num: 2,
    atr: 0.006962963,
    preferred_tax_liability: 4700,
    prop_val: 67500000.0,
    group_type: 1,
    value_bin: 1,
    v1: 15.59046,
    v2: 0.0,
    v3: 0.0,
    onlyuse: "Commercial",
    onlyocc: "Self-occupied",
    prop_val_str: "6.75 crore",
  },
  {
    prop_id: 2,
    num: 3,
    atr: 0.11838007,
    preferred_tax_liability: 9500,
    prop_val: 8024999.5,
    group_type: 1,
    value_bin: 2,
    v1: 16.34124,
    v2: 0.113327,
    v3: 0.0,
    onlyuse: "Commercial",
    onlyocc: "Self-occupied",
    prop_val_str: "80.25 lac",
  },
  {
    prop_id: 2,
    num: 4,
    atr: 0.008102688,
    preferred_tax_liability: 2500,
    prop_val: 30853958.0,
    group_type: 0,
    value_bin: 2,
    v1: 16.34124,
    v2: 0.6097641,
    v3: 0.0,
    onlyuse: "Residential",
    onlyocc: "Self-occupied",
    prop_val_str: "3.09 crore",
  },
  {
    prop_id: 2,
    num: 5,
    atr: 0.024324324,
    preferred_tax_liability: 4500,
    prop_val: 18500000.0,
    group_type: 1,
    value_bin: 3,
    v1: 16.34124,
    v2: 1.7950859,
    v3: 0.6282997,
    onlyuse: "Commercial",
    onlyocc: "Self-occupied",
    prop_val_str: "1.85 crore",
  },
  {
    prop_id: 2,
    num: 6,
    atr: 0.0195,
    preferred_tax_liability: 7800,
    prop_val: 40000000.0,
    group_type: 0,
    value_bin: 2,
    v1: 16.34124,
    v2: 0.5675831,
    v3: 0.0,
    onlyuse: "Commercial",
    onlyocc: "Rented",
    prop_val_str: "4.00 crore",
  },
  {
    prop_id: 2,
    num: 7,
    atr: 0.001911469,
    preferred_tax_liability: 9500,
    prop_val: 497000000.0,
    group_type: 1,
    value_bin: 3,
    v1: 16.34124,
    v2: 1.7950859,
    v3: 2.576889,
    onlyuse: "Commercial",
    onlyocc: "Self-occupied",
    prop_val_str: "49.70 crore",
  },
  {
    prop_id: 2,
    num: 8,
    atr: 0.001736111,
    preferred_tax_liability: 2500,
    prop_val: 144000000.0,
    group_type: 1,
    value_bin: 1,
    v1: 15.75641,
    v2: 0.0,
    v3: 0.0,
    onlyuse: "Commercial",
    onlyocc: "Self-occupied",
    prop_val_str: "14.40 crore",
  },
  {
    prop_id: 2,
    num: 9,
    atr: 0.046984127,
    preferred_tax_liability: 7400,
    prop_val: 15750000.0,
    group_type: 1,
    value_bin: 2,
    v1: 16.34124,
    v2: 0.3506565,
    v3: 0.0,
    onlyuse: "Commercial",
    onlyocc: "Self-occupied",
    prop_val_str: "1.57 crore",
  },
];

// Assuming finalData.current is your data
export const calculateRevenueAnalysis = async (finalData) => {
  // const data = finalData;

  try {
    // Make a POST request
    const response = await fetch(url, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        // Add any other headers if needed
      },
      body: JSON.stringify(finalData),
    });

    // Check if the request was successful
    if (!response.ok) {
      throw new Error(`HTTP error! Status: ${response.status}`);
    }

    // Parse and return the JSON data
    // const jsonData = await response.json();
    return response;
  } catch (error) {
    console.error("Error :", error.message);
    return error.message;
    // Handle errors here
  }
};
